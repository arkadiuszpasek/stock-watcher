{"version":3,"sources":["actions/index.ts","reducers/index.ts","reducers/inputReducer.ts","reducers/stockReducer.ts","reducers/stocksReducer.ts","components/Input.tsx","styles/vars.ts","components/List.tsx","components/StockTable.tsx","components/Loader.tsx","components/StockDetail.tsx","App.tsx","index.tsx"],"names":["startStockLoad","type","fetchStock","ticker","dispatch","a","fetch","response","json","payload","console","log","combineReducers","input","state","action","stock","loading","stocksList","InputElement","styled","Button","button","Input","onInputChange","e","updateInput","props","target","value","toUpperCase","onButtonClick","onKeyDown","keyCode","onChange","this","placeholder","onClick","React","Component","connect","StocksList","div","ListItem","li","List","onStockClick","renderList","stocks","length","map","key","_id","renderFrequentStocks","fetchAllStocks","Table","table","StockTable","data","lastWeek","Object","entries","slice","headers","date","values","data-label","renderTable","LoaderElement","Loader","Label","p","StockDetail","views","style","textAlign","renderStock","GlobalStyle","createGlobalStyle","Container","Top","App","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1e5418a8.chunk.js","sourcesContent":["export const INPUT_CHANGE = 'INPUT_CHANGE';\nexport const FETCH_STOCK = 'FETCH_STOCK';\nexport const FETCH_ALL_STOCKS = 'FETCH_ALL_STOCKS';\nexport const START_STOCK_LOAD = 'START_STOCK_LOAD';\nexport const STOP_STOCK_LOAD = 'STOP_STOCK_LOAD';\n\nexport const updateInput = (input: string) => {\n  return {\n    type: INPUT_CHANGE,\n    payload: input,\n  };\n};\n\nexport const startStockLoad = () => ({\n  type: START_STOCK_LOAD,\n});\n\nexport const stopStockLoad = () => ({\n  type: STOP_STOCK_LOAD,\n});\n\nexport const fetchStock = (ticker: string) => async (dispatch: any) => {\n  try {\n    const response = await fetch(`/stocks/${ticker}`);\n\n    const json = await response.json();\n\n    dispatch({\n      type: FETCH_STOCK,\n      payload: json ? json : {},\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const fetchAllStocks = (ticker: string) => async (dispatch: any) => {\n  try {\n    const response = await fetch('/stocks/');\n    const json = await response.json();\n\n    dispatch({\n      type: FETCH_ALL_STOCKS,\n      payload: json ? json : {},\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\n","import { combineReducers } from 'redux';\n\nimport inputReducer from './inputReducer';\nimport stockReducer from './stockReducer';\nimport stocksReducer from './stocksReducer';\n\nexport default combineReducers({\n  input: inputReducer,\n  stock: stockReducer,\n  stocksList: stocksReducer,\n});\n","import { INPUT_CHANGE } from '../actions';\n\nexport default (state = '', action) => {\n  switch (action.type) {\n    case INPUT_CHANGE:\n      return action.payload;\n    default:\n      return state;\n  }\n};\n","import { FETCH_STOCK, START_STOCK_LOAD, STOP_STOCK_LOAD } from '../actions';\n\nexport default (state = {}, action: { type: string; payload: any }) => {\n  switch (action.type) {\n    case START_STOCK_LOAD:\n      return { ...state, loading: true };\n    case STOP_STOCK_LOAD:\n      return { ...state, loading: false };\n    case FETCH_STOCK:\n      return { ...action.payload, loading: false };\n    default:\n      return state;\n  }\n};\n","import { FETCH_ALL_STOCKS } from '../actions';\n\nexport default (state = [], action: { type: string; payload: any }) => {\n  switch (action.type) {\n    case FETCH_ALL_STOCKS:\n      return action.payload;\n    default:\n      return state;\n  }\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { updateInput, fetchStock, startStockLoad } from '../actions';\nimport * as styles from '../styles/vars';\n\nconst InputElement = styled.input`\n  background-color: #f3f3f3;\n  color: ${styles.PRIMARY_DARK};\n  padding: 0.75rem 1rem;\n  border-radius: ${styles.BORDER_RADIUS};\n  margin: 1.5rem 0.5rem 0.5rem;\n  text-align: center;\n  border: none;\n`;\n\nconst Button = styled.button`\n  background-color: ${styles.COMPLEMENTARY_COLOR};\n  padding: 0.75rem 2rem;\n  border-radius: ${styles.BORDER_RADIUS};\n  border: none;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background-color: #f3f3f3;\n    color: black;\n    cursor: pointer;\n  }\n`;\n\nclass Input extends React.Component {\n  onInputChange = (e) => {\n    const { updateInput } = this.props;\n    const input = e.target.value.toUpperCase();\n    updateInput(input);\n  };\n\n  onButtonClick = () => {\n    const { startStockLoad } = this.props;\n    this.props.fetchStock(this.props.input);\n    startStockLoad();\n  };\n\n  onKeyDown = (e) => {\n    // If user pressed 'enter'\n    if (e.keyCode === 13) {\n      const { startStockLoad } = this.props;\n      this.props.fetchStock(this.props.input);\n      startStockLoad();\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <InputElement\n          onChange={this.onInputChange}\n          onKeyDown={this.onKeyDown}\n          placeholder=\"Enter stock ticker\"\n          value={this.props.input}\n        ></InputElement>\n        <Button onClick={this.onButtonClick}>Search</Button>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    input: state.input,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  updateInput,\n  fetchStock,\n  startStockLoad,\n})(Input);\n","export const BG_COLOR = '#303037';\nexport const SECOND_COLOR = '#45414F';\nexport const THIRD_COLOR = '#41454F';\nexport const PRIMARY_DARK = '#312D33';\nexport const PRIMARY_GRAY = '#383F45';\nexport const COMPLEMENTARY_COLOR = '#666685';\n\nexport const BORDER_RADIUS = '7px';\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { fetchAllStocks, fetchStock, startStockLoad } from '../actions';\nimport { State } from '../types';\nimport * as styles from '../styles/vars';\n\nconst StocksList = styled.div`\n  // background: ${styles.PRIMARY_GRAY};\n  margin: 1rem 0;\n  padding: 1rem 3rem;\n  text-align: left;\n  border-top: 3px dashed ${styles.THIRD_COLOR};\n  border-bottom: 3px dashed ${styles.THIRD_COLOR};\n`;\n\nconst ListItem = styled.li`\n  padding: 0.25rem 1rem;\n  margin: 0.5rem;\n  border-radius: ${styles.BORDER_RADIUS};\n  cursor: pointer;\n  background: #f3f3f3;\n  color: black;\n  display: inline-block;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: ${styles.COMPLEMENTARY_COLOR};\n  }\n`;\n\ninterface PropsInterface {\n  stocks: Array<any>;\n  fetchStock: (stock: string) => void;\n  fetchAllStocks: () => void;\n  startStockLoad: () => void;\n}\n\nclass List extends React.Component<PropsInterface> {\n  componentDidMount() {\n    const { fetchAllStocks } = this.props;\n    fetchAllStocks();\n  }\n\n  onStockClick = (stock: string) => {\n    const { fetchStock, startStockLoad } = this.props;\n    fetchStock(stock);\n    startStockLoad();\n  };\n\n  renderList = () => {\n    const { stocks } = this.props;\n\n    if (!stocks || stocks.length <= 0) {\n      return;\n    }\n\n    return stocks.map(\n      (stock: { _id: string; views: number; ticker: string }) => {\n        return (\n          <ListItem\n            key={stock._id}\n            onClick={() => this.onStockClick(stock.ticker)}\n          >\n            {stock.ticker}\n          </ListItem>\n        );\n      },\n    );\n  };\n\n  renderFrequentStocks = () => {\n    const { stocks } = this.props;\n    if (!stocks || stocks.length <= 0) {\n      return '';\n    }\n\n    return (\n      <StocksList>\n        <h3>Users' most frequently searched stocks</h3>\n        <ul>{this.renderList()}</ul>\n      </StocksList>\n    );\n  };\n\n  render() {\n    return <div>{this.renderFrequentStocks()}</div>;\n  }\n}\n\nconst mapStateToProps = (state: State) => {\n  return {\n    stocks: state.stocksList,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchAllStocks,\n  fetchStock,\n  startStockLoad,\n})(List);\n","import React from 'react';\nimport styled from 'styled-components';\nimport * as styles from '../styles/vars';\n\nconst Table = styled.table`\n  border-left: 4px solid ${styles.COMPLEMENTARY_COLOR};\n  border-collapse: collapse;\n  table-layout: fixed;\n  width: 80%;\n  margin: 0 auto;\n  th,\n  td {\n    padding: 0.5rem 1rem;\n  }\n\n  @media screen and (max-width: 1024px) {\n    thead {\n      display: none;\n    }\n    tr {\n      display: block;\n    }\n    td:nth-child(odd) {\n      background: ${styles.SECOND_COLOR};\n    }\n    td {\n      display: block;\n      text-align: right;\n    }\n    td::before {\n      content: attr(data-label);\n      float: left;\n    }\n  }\n`;\n\ninterface PropsInterface {\n  entries: Object;\n}\n\nconst StockTable = (props: PropsInterface) => {\n  const renderTable = (data: any) => {\n    if (!data || data.length <= 0) {\n      return;\n    }\n\n    const lastWeek = Object.entries(data).slice(0, 7);\n    const headers = lastWeek.map(([date, value]: [string, string]) => (\n      <th key={date}>{date}</th>\n    ));\n\n    const values = lastWeek.map(([date, value]: [string, string]) => (\n      <td data-label={date} key={date}>\n        {value}\n      </td>\n    ));\n\n    return (\n      <Table>\n        <thead>\n          <tr>{headers}</tr>\n        </thead>\n        <tbody>\n          <tr>{values}</tr>\n        </tbody>\n      </Table>\n    );\n  };\n\n  return <div>{renderTable(props.entries)}</div>;\n};\n\nexport default StockTable;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst LoaderElement = styled.div`\n  &,\n  &:after {\n    border-radius: 50%;\n    width: 10em;\n    height: 10em;\n  }\n\n  margin: 60px auto;\n  font-size: 10px;\n  position: relative;\n  text-indent: -9999em;\n  border-top: 1.1em solid rgba(255, 255, 255, 0.2);\n  border-right: 1.1em solid rgba(255, 255, 255, 0.2);\n  border-bottom: 1.1em solid rgba(255, 255, 255, 0.2);\n  border-left: 1.1em solid #ffffff;\n  -webkit-transform: translateZ(0);\n  -ms-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation: load8 1.1s infinite linear;\n  animation: load8 1.5s infinite linear;\n\n  @-webkit-keyframes load8 {\n    0% {\n      -webkit-transform: rotate(0deg);\n      transform: rotate(0deg);\n    }\n    100% {\n      -webkit-transform: rotate(360deg);\n      transform: rotate(360deg);\n    }\n  }\n  @keyframes load8 {\n    0% {\n      -webkit-transform: rotate(0deg);\n      transform: rotate(0deg);\n    }\n    100% {\n      -webkit-transform: rotate(360deg);\n      transform: rotate(360deg);\n    }\n`;\n\nconst Loader = () => <LoaderElement />;\n\nexport default Loader;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { State } from '../types';\nimport StockTable from './StockTable';\nimport Loader from './Loader';\n\nconst Label = styled.p`\n  margin: 0.75rem 0;\n`;\n\ninterface PropsInterface {\n  stock: {\n    ticker: string;\n    views: number;\n    data: Object;\n    loading: boolean;\n  };\n}\n\nclass StockDetail extends React.Component<PropsInterface> {\n  renderStock() {\n    const {\n      stock: { ticker, views, data },\n    } = this.props;\n\n    return (\n      <div style={{ textAlign: 'center' }}>\n        <Label>\n          Ammount of searches for {ticker}: {views}\n        </Label>\n        <Label>Price from last 7 days:</Label>\n\n        <StockTable entries={data}></StockTable>\n      </div>\n    );\n  }\n\n  render() {\n    const { stock } = this.props;\n    return (\n      <div>\n        {stock.loading ? <Loader /> : stock.data ? this.renderStock() : ''}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: State) => ({\n  stock: state.stock,\n});\n\nexport default connect(mapStateToProps, {})(StockDetail);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled, { createGlobalStyle } from 'styled-components';\n\nimport Input from './components/Input';\nimport List from './components/List';\nimport StockDetail from './components/StockDetail';\nimport * as styles from './styles/vars';\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    background-color: ${styles.BG_COLOR};\n  }\n  * {\n    font-family: 'Roboto', sans-serif;\n    color: white;\n    border-sizing: border-box;\n    margin: 0;\n    padding: 0;\n  }\n`;\n\nconst Container = styled.div`\n  width: 90%;\n  padding: 2rem;\n  text-align: center;\n`;\n\nconst Top = styled.div`\n  text-align: center;\n`;\n\nclass App extends React.Component {\n  render() {\n    return (\n      <Top>\n        <GlobalStyle />\n        <Input />\n        <List />\n        <Container>\n          <StockDetail />\n        </Container>\n      </Top>\n    );\n  }\n}\n\nexport default connect(null, {})(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\n\nimport reducers from './reducers';\nimport App from './App';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App></App>\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}